# Способы установки программ в Linux.

### В Linux существует несколько способов установки программ:

- Программа распространяется в виде архива исходных кодах *.tar.gz, которые необходимо распаковать и в простейшем случае, откомпилировать с помощью команд make, make install.
- Воспользоваться пакетным менеджером и пакетами с исходным кодом.
- Воспользоваться менеджером пакетов и установить программу, которая распространяется в виде пакета откомпилированных файлов.

### Менеджеры пакетов – это инструменты, используемые для инсталляции и сопровождения программного обеспечения. Они помогают отслеживать, какие установлены программы и где располагаются файлы. Для отслеживания установленных приложений менеджер пакетов создает централизованную базу данных. В разных дистрибутивах Linux свои менеджеры. В Debian, Ubuntu и их родственниках используется APT, в CentOS и Fedora есть DNF, в openSUSE — Zypper, и в Arch Linux — pacman.

### Наибольшее распространение получили два формата пакетов: RPM и Debian.

### RPM (RPM Package Manager) предоставляет следующие возможности:
- установка новых программ;
- удаление программ;
- проверка – позволяет убедиться в том, что программные файлы не повреждены и не искажены;
- модернизация версий установленных программ;
- запрос установленного программного обеспечения, например, ответ на вопрос «Из какого пакета установлен этот файл?»;
- извлечение – проверка содержимого пакетов перед установкой.

### Информация, содержащаяся в пакете:

#### Полный формат rpm-файла - это четыре секции:
1) Начальный идентификатор, помечающий файл как rpm-пакет. Секция идентификатора создается соответствующей версией rpm, которая использовалась для сборки.
2) Сигнатура следует за начальным идентификатором. Подобно любой цифровой подписи сигнатура позволяет оценить впоследствии целостность пакета. Сигнатура являетсярезультатом выполнения некоторой функции над заголовком и нагрузкой. Это может быть криптофункция, например PGP или хэш-функция, например дайджест MD5.
3) Заголовок содержит ноль или более полей данных, описывающих пакет. В служебные поля заключается информация о правах на программное обеспечение, версия, описание пакета и некоторые другие сведения.
4) Нагрузка содержит файлы, которые используются в проекте. Когда отдана команда на установку пакета, эти файлы копируются в систему в нужные места. Все дерево каталогов и файлов пакета сжато с помощью gzip.

### Бинарные rpm и rpm с исходным кодом:

### Существует два типа пакетов rpm - бинарные и с исходным кодом.

### Бинарные пакеты.

#### Бинарные пакеты содержат полный набор приложений и библиотек, собранных для определенной процессорной архитектуры. Работа этих приложений часто зависит от других приложений (библиотек), которые в свою очередь содержатся в иных бинарных rpm-пакетах. Некоторые пакеты содержат только библиотеки функций. Пакеты библиотек позволяют поддерживать работу множества приложений с помощью одной библиотеки (shared libraries). Поэтому, как правило, библиотеки входят в пакеты, не содержащие приложений. В дополнение к бинарным пакетам для определенных архитектур, rpm поддерживает концепцию независимых от платформы бинарных пакетов (noarch-пакетов), предоставляющих библиотеки или коллекции сценариев (скриптов), работа которых не зависит от конкретной платформы. Приложения,написанные на Perl, Python или shell не связаны необходимостью компиляции. Многие приложения Java также не зависят от платформы.

### Пакеты с исходным кодом.

#### В соответствии с соглашениями об именовании, имя файла пакета с исходным кодом оканчивается постфиксом src.rpm. src.rpm-пакет содержит средства, необходимые для сборки бинарного пакета. Наличие такого пакета означает, что можно пересобрать бинарный пакет, сделав необходимые изменения или исправления, либо для другой процессорной архитектуры.
### Заголовок пакета.

#### Заголовок содержит теги, описывающие пакет. В них содержится информация о правах на программное обеспечение, версия, описание пакета и некоторые другие сведения.
#### Для пользователя обычно наиболее интересны следующие теги:
- name – имя программы;
- version – версия программы;
- release – версия сборки;
- license – лицензия, по которой распространяется пакет;
- summary – краткое описание пакета;
- description – описание пакета;
- group – группа/подгруппа программного обеспечения;
- vendor – сборщик пакета.
 #### Получить список тегов можно с помощью команды: rpm --querytags. 
 #### Содержимое group указывает, к какой категории программного обеспечения относится пакет.

### База данных rpm.

#### База данных RPM хранит информацию о всех установленных пакетах. Эта база может использоваться для запросов, касающихся того, что установлено, для информирования о версиях установленного ПО, для оценки целостности пакетов и системы. Файлы базы данных располагаются в каталоге /var/lib/rpm. Наиболее значимый файл - Packages. В нем хранятся значения полей заголовка для каждого пакета, индексированные по внутреннему номеру пакета. Другие файлы предназначены для оптимизации запросов и ускорения работы базы данных.

### Основные режимы консольного менеджера пакетов rpm:

- rpm -i файл-пакета.rpm -Установка пакета (install)
- rpm -U файл-пакета.rpm -Обновление пакета (Upgrage)
- rpm -e пакет -Удаление пакета (erase)
- rpm -q пакет -Получение информации (query)
- rpm -y пакет -Проверка пакета (verify)
- rpm -b -Создание пакета .rpm из .src.rpm (build); здесь не рассматривается
- rpm -V -Верификация 
- rpm -K -Проверка подписи
- rpm -F -Обновление в режиме freshen

[Ссылка на скриншоты](https://docs.google.com/document/d/1i83Q_WASTqDMIopb8RzNp70hztZmwGzr9nc23HNTeAc/edit?usp=sharing)
